ARG BASE_VERSION
#==alpine:3.20.6
# Use the official Alpine base image
FROM ${BASE_VERSION}

RUN apk add --no-cache mariadb mariadb-client

COPY mariadb.conf.template /etc/mariadb/mariadb.conf.template

COPY tools/entrypoint.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

EXPOSE ${MARIADB_PORT}
ENTRYPOINT ["/entrypoint.sh"]